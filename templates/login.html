<!DOCTYPE html>
<html>
<head>
	{% load static %}
	<title>Login</title>
	<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
	<style>
		body{
	margin: 0;
	padding: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 100vh;
	font-family: 'Jost', sans-serif;
	background: linear-gradient(to bottom, #FFEFCB,#EDE6DE, #FFEFCB);
}
		.password-container {
    margin-bottom: 10px;
    position: relative;
}
button{
	width: 60%;
	height: 40px;
	margin: 10px auto;
	justify-content: center;
	display: block;
	color: #fff;
	background:#9CD3DB;
	font-size: 1em;
	font-weight: bold;
	margin-top: 20px;
	outline: none;
	border: none;
	border-radius: 5px;
	transition: .2s ease-in;
	cursor: pointer;
}
button:hover{
	background: #9CA099;
}
.password-message {
    font-size: 12px;
    color: red;
    position: absolute;
    top: 100%;
    left: 60px;
}

.password-valid {
    color: green;
    }
 .error-message {
            font-size: 14px;
            color: red;
            margin-top: 5px;
            left: 100px;
        }
 .success-message {
            font-size: 14px;
            color: green;
            margin-top: 5px;
            left: 120px; /* Adjust this value to position the message */
        }
	</style>
</head>
<body>
	<div class="main">
		<input type="checkbox" id="chk" aria-hidden="true">

			<div class="signup">
				<form method="post" id="singupform">
					<input type="hidden" name="form_id" value="singupform">
					<label for="chk" aria-hidden="true">Sign up</label>
					{% csrf_token %}
					 {% if messages %}
        <div class="messages">
            {% for message in messages %}
                {% if message.tags == 'error' %}
                    <div class="error-message">{{ message }}</div>
                {% elif message.tags == 'success' %}
                    <div class="success-message">{{ message }}</div>
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
					<input type="email" name="email" placeholder="Email" required="">
					 <div class="password-container">
                        <input type="password" id="password" name="password" placeholder="Password" required="">
                        <div class="password-message"></div>
                    </div>
					<input type="password" name="confpass" placeholder="Conform Password" required="">
					<button>Sign up</button>
				</form>

			</div>

			<div class="login">

				<form method="post" id="loginform">
					{% csrf_token %}
					<input type="hidden" name="form_id" value="loginform">
					<label style="color:#9CD3DB;" for="chk" aria-hidden="true">Login</label>
					{% if messages %}
                {% for message in messages %}
                    <div class="error-message">{{ message }}</div>
                {% endfor %}
            {% endif %}
					<input type="email" name="email" placeholder="Email" required="">
					<input type="password" name="password" placeholder="Password" required="">
					<button type="submit">Login</button>
				</form>

			</div>

	</div>
 <script>
        document.addEventListener('DOMContentLoaded', function() {
            var passwordInput = document.getElementById('password');
            var passwordMessage = document.querySelector('.password-message');

            passwordInput.addEventListener('input', function() {
                var password = passwordInput.value;
                var isValid = true;

                if (password.length < 8) {
                    passwordMessage.textContent = "Password must be at least 8 characters long.";
                    isValid = false;
                } else if (!password.match(/[a-zA-Z]/)) {
                    passwordMessage.textContent = "Password must contain at least one letter.";
                    isValid = false;
                } else if (!password.match(/[0-9]/)) {
                    passwordMessage.textContent = "Password must contain at least one digit.";
                    isValid = false;
                } else {
                    passwordMessage.textContent = "Password meets all conditions.";
                    passwordMessage.classList.add('password-valid');
                }

                if (!isValid) {
                    passwordMessage.classList.remove('password-valid');
                }
            });
        });
    </script>

</body>

</html>